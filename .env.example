# Auth API Environment Variables
# This file documents the environment variables used by the better-auth service.
# In Docker, these are set in docker-compose.yaml
# For local development without Docker, copy to .env.local

# ===========================
# Node Environment
# ===========================
NODE_ENV=development
PORT=3002
LOG_LEVEL=info

# ===========================
# Database Configuration
# ===========================
DATABASE_URL=postgresql://user:pass@localhost:5432/database?schema=auth
DATABASE_SCHEMA=auth

# ===========================
# Redis Configuration
# ===========================
REDIS_URL=redis://localhost:6379/1

# ===========================
# Better-Auth Configuration
# ===========================
BETTER_AUTH_URL=http://localhost:3002
BETTER_AUTH_SECRET=your-secret-key-min-32-chars-replace-in-production
BETTER_AUTH_BASE_PATH=/api/auth
BETTER_AUTH_TRUST_HOST=true

# ===========================
# Email Configuration (SendGrid)
# ===========================
SENDGRID_API_KEY=your-sendgrid-api-key-here
SENDGRID_FROM_EMAIL=noreply@example.com
SENDGRID_FROM_NAME=YourApp
# Optional: Use SendGrid Dynamic Templates (format: d-xxxxxxxxxxxxx)
SENDGRID_VERIFICATION_TEMPLATE_ID=
SENDGRID_RESET_TEMPLATE_ID=
SUPPORT_EMAIL=support@example.com

# Email Verification Settings
REQUIRE_EMAIL_VERIFICATION=false

# ===========================
# OAuth Providers (Optional)
# ===========================
# GitHub OAuth (get from https://github.com/settings/developers)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ===========================
# Application Branding
# ===========================
APP_NAME=YourApp
COOKIE_PREFIX=yourapp
PRODUCTION_DOMAIN=example.com
STAGING_DOMAIN=staging.example.com

# ===========================
# Session Configuration
# ===========================
SESSION_EXPIRES_IN=86400
SESSION_UPDATE_AGE=3600
SESSION_SECURE_COOKIES=false

# ===========================
# CORS Configuration
# ===========================
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# ===========================
# Security
# ===========================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=900000

# ===========================
# Cloudflare Turnstile (Spam Protection)
# ===========================
# Disabled in development mode (localhost not allowed in Cloudflare)
# Get secret key from: https://dash.cloudflare.com/
TURNSTILE_SECRET_KEY=1x0000000000000000000000000000000AA
TURNSTILE_ENABLED=false

# ===========================
# Frontend URL
# ===========================
FRONTEND_URL=http://localhost:5173
